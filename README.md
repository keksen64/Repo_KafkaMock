# Repo_KafkaMock
## Что это?
Это заглушка разработанная для проведения НТ автоматизированной банковской систмы.
Упрощенная бизнес-модель: 
1) Тестируемая система направляет в заглушку http-запрос на получение токена (допускается его хардкод)
2) Заглушка возвращает токен
3) Тестируемая система направляет в заглушку http-запрос на получение информации по транзакциям клиента
4) Заглушка возвращает ответ с числом транзакций(рандомное, настраивается), а также уникальный идентификатор запроса.
5) Спустя установленное время, заглушка кладет в кафку соответствующее кол-во транзакций помеченных соответствующим уникальным идентификатором.
6) Тестируемая система вычитывает ответ от эмулятора из кафки.

Заглушка оснащена мониторингом, отстреливающим события в инфлюкс, времена задержек на синхронное и асинхронное взаимодействие, а также некоторые другие параметры настраиваются в конфигурации. 
В заглушке реализован метод для смены времени задержки "на горячую" без перезапуска приложения.

## Попробовать
nohup java -Xms1024M -Xmx1024M -jar KafkaMock.jar > nohup.out 2> nohup.err < /dev/null &
При высоких интенсивностях и больших обьемах транзакций - начнет умеренно потреблять RAM.
Ранее была проведена оптимизация потребления памяти за счет переноса подготовки пула транзакций после установленной задержки ответа.


## Автор
Павлов Захарий

## Контакты для связи
Telegram [@kekss_pekss](https://t.me/kekss_pekss)



